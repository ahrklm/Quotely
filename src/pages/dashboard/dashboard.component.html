<div class="p-6 md:p-10 space-y-10">
  <!-- Header -->
  <div>
    <h1 class="text-3xl font-bold text-slate-800">Dashboard</h1>
    <p class="text-slate-500 mt-1">Welcome back, Jon Snow. Here's a summary of your activities.</p>
  </div>

  <!-- KPI Cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
    <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-start justify-between">
      <div>
        <p class="text-sm font-medium text-slate-500">Total Quotes</p>
        <p class="text-4xl font-bold text-slate-800 mt-1">{{ kpi_totalQuotes() }}</p>
      </div>
      <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center" [innerHTML]="iconService.getIcon('Quotes')"></div>
    </div>
    <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-start justify-between">
      <div>
        <p class="text-sm font-medium text-slate-500">Approved</p>
        <p class="text-4xl font-bold text-green-600 mt-1">{{ kpi_approvedQuotes() }}</p>
      </div>
      <div class="w-10 h-10 rounded-xl bg-green-50 text-green-600 flex items-center justify-center">
        <svg width="24" height="24" viewBox="0 0 32 32" fill="currentColor"><path d="M14,2A12,12,0,1,0,26,14,12,12,0,0,0,14,2Zm6.4,10.2-7,7a1,1,0,0,1-1.4,0l-4-4a1,1,0,1,1,1.4-1.4L13,17.6l6.3-6.3a1,1,0,1,1,1.4,1.4Z"/><path fill="none" d="M14 2A12 12 0 1 0 26 14 12 12 0 0 0 14 2zM20.4 12.2l-7 7a1 1 0 0 1-1.4 0l-4-4a1 1 0 1 1 1.4-1.4L13 17.6l6.3-6.3a1 1 0 0 1 1.4 1.4z" data-icon-path="inner-path"/></svg>
      </div>
    </div>
    <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-start justify-between">
      <div>
        <p class="text-sm font-medium text-slate-500">Pending Approval</p>
        <p class="text-4xl font-bold text-amber-600 mt-1">{{ kpi_pendingQuotes() }}</p>
      </div>
      <div class="w-10 h-10 rounded-xl bg-amber-50 text-amber-600 flex items-center justify-center" [innerHTML]="iconService.getIcon('Clock')"></div>
    </div>
    <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-start justify-between">
      <div>
        <p class="text-sm font-medium text-slate-500">Total Projects</p>
        <p class="text-4xl font-bold text-slate-800 mt-1">{{ kpi_totalProjects() }}</p>
      </div>
      <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center" [innerHTML]="iconService.getIcon('Projects')"></div>
    </div>
  </div>

  <!-- Main Content Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Recent Quotes -->
    <div class="lg:col-span-2 bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-bold text-slate-800">Recent Quotes</h3>
        <a routerLink="/quotes" class="text-sm font-medium text-blue-600 hover:underline">View all</a>
      </div>
      <div class="flow-root">
        <ul role="list" class="divide-y divide-slate-100">
          @for (quote of recentQuotes(); track quote.id) {
            <li (click)="viewQuote(quote.id)" class="py-3 sm:py-4 cursor-pointer">
              <div class="flex items-center space-x-4 group hover:bg-slate-50 -mx-4 px-4 py-2 rounded-lg transition-colors">
                <div class="flex-1 min-w-0">
                  <p class="text-sm font-bold text-slate-800 truncate group-hover:text-blue-600 transition-colors">
                    {{ quote.title }}
                  </p>
                  <p class="text-sm text-slate-500 truncate">
                    Project: {{ quote.projectName }}
                  </p>
                </div>
                <div class="inline-flex items-center text-base font-semibold text-slate-900">
                  {{ quote.totalPrice | currency:'EUR':'symbol' }}
                </div>
                <div>
                  <span [class]="'px-2.5 py-1 text-xs font-semibold rounded-full ' + getStatusClass(quote.status)">
                    {{ quote.status }}
                  </span>
                </div>
              </div>
            </li>
          } @empty {
            <div class="text-center py-10 text-slate-500">
                <p>No quotes found.</p>
            </div>
          }
        </ul>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
      <h3 class="text-lg font-bold text-slate-800 mb-4">Quick Actions</h3>
      <div class="space-y-3">
        <button (click)="navigate('/quotes')" class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-slate-100 transition-colors text-slate-700 font-medium">
          <div class="w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-slate-500" [innerHTML]="iconService.getIcon('Quotes')"></div>
          <span>New Quote</span>
        </button>
        <button (click)="navigate('/projects')" class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-slate-100 transition-colors text-slate-700 font-medium">
          <div class="w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-slate-500" [innerHTML]="iconService.getIcon('Projects')"></div>
          <span>New Project</span>
        </button>
        <button (click)="navigate('/contacts')" class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-slate-100 transition-colors text-slate-700 font-medium">
          <div class="w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-slate-500" [innerHTML]="iconService.getIcon('Contacts')"></div>
          <span>New Contact</span>
        </button>
        <button (click)="navigate('/domains')" class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-slate-100 transition-colors text-slate-700 font-medium">
          <div class="w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center text-slate-500" [innerHTML]="iconService.getIcon('Domains')"></div>
          <span>New Domain</span>
        </button>
      </div>
    </div>
  </div>
</div>